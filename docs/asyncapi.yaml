asyncapi: '2.5.0'
info:
  title: Claim Service
  version: 0.31.1
  description: Claim Journey for Animal Health and Welfare Review 
channels:
  ffc-ahwr-application-request:
    subscribe:
      message:
        $ref: '#/components/messages/ApplicationRequest'
  ffc-ahwr-application-response:
    subscribe:
      message:
        $ref: '#/components/messages/ApplicationResponse'
components:
  messages:
    ApplicationRequest:
      GetApplication:
        payload:
          type: object
          properties:
            applicationReference:
              type: string
              description: Application reference number
      GetClaim:
        payload:
          type: object
          properties:
            email:
              type: string
              description: Email address of the farmer
              format: email
      SubmitClaim:
        payload:
          type: object
          properties:
            reference:
              type: string
              description: Claim reference number
              required: true
            data:
              type: object
              properties:
                confirmCheckDetails:
                  type: string
                  description: Confirm the details are correct
                  required: true
                whichReview:
                  type: string
                  description: Specify the review type
                  required: true
                eligibleSpecies:
                  type: string
                  description: Specify the eligible species
                  required: true
                reference:
                  type: string
                  description: Reference number
                  required: true
                  nullable: true
                declaration:
                  type: boolean
                  description: Declaration status
                  required: true
                offerStatus:
                  type: string
                  description: Offer status
                  required: true
                visitDate:
                  type: string
                  description: Visit date
                  required: true
                vetName:
                  type: string
                  description: Veterinarian's name
                  required: true
                urnResult:
                  type: string
                  description: URN result
                  required: true
                vetRcvs:
                  type: string
                  description: Veterinarian's RCVS number
                  required: true
                detailsCorrect:
                  type: string
                  description: Details correctness confirmation
                  required: true
                organisation:
                  type: object
                  properties:
                    farmerName:
                      type: string
                      description: Farmer's name
                      required: true
                    name:
                      type: string
                      description: Organisation name
                      required: true
                    sbi:
                      type: string
                      description: SBI number
                      required: true
                    crn:
                      type: string
                      description: CRN number
                      required: false
                    cph:
                      type: string
                      description: CPH number
                      required: false
                    address:
                      type: string
                      description: Organisation address
                      required: true
                    email:
                      type: string
                      description: Organisation email
                      required: true
                    isTest:
                      type: boolean
                      description: Test mode status
                      required: false

            
